{% extends 'base.njk' %}

{% block pageStyles %}
  <link rel="stylesheet" href="/assets/css/rules.css" type="text/css">
{% endblock %}

{% block main %}
<h2 id="rules">{{ 'pages.rules.rules.title' | i18n | desaccentify }}</h2>
  <article class="rules-header rules-dangerous">
    {{ 'pages.rules.rules.warning' | i18n({ email: contacts.email }) }}
  </article>
  <article class="rules-header rules-info">
    {{ 'pages.rules.rules.info' | i18n }}
  </article>
  <article class="rules-column discord-rules">
    <h3>{{ 'pages.rules.rules.discord' | i18n }}</h3>
    <div class="content-box">
      <ol>
        {% for rule in rules.discord %}
            <li>
                {% if rule.fr and locale == 'fr' %}
                    {{ rule.fr }}
                {% elif rule.en and locale == 'en' %}
                    {{ rule.en }}
                {% elif rule.en %}
                    {{ rule.en }}
                {% elif rule.fr %}
                    {{ rule.fr }}
                {% else %}
                    {{ "Rule missing" }}
                {% endif %}
            </li>
        {% endfor %}
      </ol>
    </div>
  </article>
  <article class="rules-column minecraft-rules">
    <h3>{{ 'pages.rules.rules.minecraft' | i18n }}</h3>
    <div class="content-box">
      <ol>
          {% for rule in rules.minecraft %}
              <li>
                  {% if rule.fr and locale == 'fr' %}
                      {{ rule.fr }}
                  {% elif rule.en and locale == 'en' %}
                      {{ rule.en }}
                  {% elif rule.en %}
                      {{ rule.en }}
                  {% elif rule.fr %}
                      {{ rule.fr }}
                  {% else %}
                      {{ "Rule missing" }}
                  {% endif %}
              </li>
          {% endfor %}
      </ol>
    </div>
  </article>
  <h2 id="ranks">{{ 'pages.rules.ranks.title' | i18n }}</h2>
  <article class="rules-header rules-info">
    {{ 'pages.rules.ranks.info' | i18n }}
  </article>
  <article class="rules-column">
    <h3>{{ 'pages.rules.ranks.title' | i18n }}</h3>
    <div class="content-box">
      <div class="subsection">
        {{ 'pages.rules.ranks.players.visitor' | i18n }}
      </div>
      <div class="subsection">
        {{ 'pages.rules.ranks.players.beginner' | i18n }}
      </div>
      <div class="subsection">
        {{ 'pages.rules.ranks.players.builder' | i18n }}
      </div>
      <div class="subsection">
        {{ 'pages.rules.ranks.players.foreman' | i18n }}
      </div>
      <div class="subsection">
        {{ 'pages.rules.ranks.players.architect' | i18n }}
      </div>
      <div>
        {{ 'pages.rules.ranks.players.engineer' | i18n }}
      </div>
    </div>
  </article>
  <article class="rules-column">
    <h3>Staff ranks</h3>
    <div class="content-box">
      <div class="subsection">
        {{ 'pages.rules.ranks.staff.archivist' | i18n }}
      </div>
      <div class="subsection">
        {{ 'pages.rules.ranks.staff.helper' | i18n }}
      </div>
      <div class="subsection">
        {{ 'pages.rules.ranks.staff.developer' | i18n }}
      </div>
      <div class="subsection">
        {{ 'pages.rules.ranks.staff.staff' | i18n }}
      </div>
    </div>
  </article>
{% endblock %}